import{_ as s,c as l,o,N as n}from"./chunks/framework.8361052b.js";const a="/CSS/assets/z-index.2d33647b.jpg",e="/CSS/assets/z-index-fu.ed5a34fa.jpg",x=JSON.parse('{"title":"CSS层叠性","description":"","frontmatter":{},"headers":[],"relativePath":"css/层叠性.md"}'),p={name:"css/层叠性.md"},t=n('<h1 id="css层叠性" tabindex="-1">CSS层叠性 <a class="header-anchor" href="#css层叠性" aria-label="Permalink to &quot;CSS层叠性&quot;">​</a></h1><blockquote><p><code>z-index</code>属性并非只对定位元素有效,felx盒子的子元素也可以设置z-index</p></blockquote><h2 id="理解层叠上下文" tabindex="-1">理解层叠上下文 <a class="header-anchor" href="#理解层叠上下文" aria-label="Permalink to &quot;理解层叠上下文&quot;">​</a></h2><ul><li><p>层叠上下文(stacking context)是HTML中的三维概念,如果一个元素有层叠上下文,就可以理解这个元素比其他元素更接近人眼</p><ul><li>z轴就是用户与显示器之间看不见的垂直线</li><li>层叠上下文和块状格式化上下文类似,比较抽象</li></ul></li><li><p><strong>层叠水平</strong>决定了同一个层叠上下文中元素z轴上的显示顺序.网页中的每个元素都是独立的个体,他们会有一个类似排名顺序的存在,而这个排名顺序就是层叠水平</p></li></ul><blockquote><p>层叠顺序</p></blockquote><ul><li><code>层叠顺序</code>和上面的<code>层叠上下</code>文以及<code>层叠水平</code>是不同的概念</li><li><img src="'+a+'" alt=" "></li></ul><ol><li>最下面的<code>background/border</code>特指层叠上下文元素的边框和背景色.每一个层叠顺序规则仅适用于当前层叠上下文元素的小世界</li><li>inline水平盒子指的是<code>inline/inline-block/inline-table</code>元素的层叠顺序,他们都是同等级别的</li><li>单纯从层叠水平上看,实际上<code>z-index:0</code>和<code>z-index:auto</code>可以看成是一样的(实际上两者存在根本性的差异)</li></ol><blockquote><p>层叠顺序的准则</p></blockquote><ol><li><strong>谁大谁上</strong>:当具有明确的层叠水平标识的时候,如生效的<code>z-index</code>属性值,在同一个层叠上下文领域,层叠水平值大的覆盖小的</li><li><strong>后来居上</strong>:当元素的层叠水平一致,层叠顺序相同的时候,在DOM中处于后面的元素会覆盖前面的元素</li></ol><h2 id="深入层叠上下文" tabindex="-1">深入层叠上下文 <a class="header-anchor" href="#深入层叠上下文" aria-label="Permalink to &quot;深入层叠上下文&quot;">​</a></h2><blockquote><p>层叠上下文的特性</p></blockquote><ol><li>层叠上下文水平要比普通元素高</li><li>层叠上下文可以阻断元素的混合模式</li><li>层叠上下文可以嵌套,内部层叠上下文及其所有子元素均受制于外部的<strong>层叠上下文</strong></li><li>每个层叠上下文和兄弟元素独立,当进行层叠上下文或者渲染的时候,只需要考虑后代元素</li><li>每个层叠上下文都是自成体系的,当元素发生层叠的时候,整个元素被认为是在父层叠上下文的层叠顺序中</li></ol><blockquote><p>层叠上下文的创建</p></blockquote><ol><li><code>天生派</code>:页面根元素天生具有层叠上下文,称为根层叠上下文</li><li><code>正统派</code>😒-index值为数值的定位元素的传统<code>层叠上下文</code></li><li><code>扩招派</code>:其他的CSS3属性</li></ol><ul><li>根层叠上下文:可以看成是&lt;html&gt;元素,页面中的元素一定至少处于一个层叠结界中</li><li>定位元素和传统的层叠上下文 <ol><li>对于<code>position:absolute/relative</code>或者<code>position:fixed</code>,当z-index值不为auto的时候,会创建层叠上下文</li><li>如果是<code>z-index:auto</code>所在的元素,是普通定位元素,里面的元素不会受父级影响,遵循<strong>谁大谁上</strong>的准则</li><li>如果是<code>z-index:0</code>所在的元素会创建层级上下文,里面的元素会受到父元素的影响,表现为<strong>后来居上</strong></li></ol></li></ul><blockquote><p>自动创建层叠上下文的元素</p></blockquote><ul><li>position:relative或position:absolute定位元素的z-index值不为auto</li><li>position:fixed固定定位元素</li><li>flex子项的z-index值不为auto</li><li>元素的opacity属性值不是1</li><li>元素的clip-path属性值不是none</li><li>元素的transform属性值不是none</li><li>元素的mix-blend-mode属性值不是normal</li><li>元素的filter属性值不是none</li><li>元素的contain属性值不是none</li><li>will-change指定的属性值为opacity,clip-path,transform,mix-blend-mode,filter和contain中的任意一个</li><li>元素的-webkit-overflow-scrolling设为touch</li></ul><h2 id="层叠上下文和层叠顺序" tabindex="-1">层叠上下文和层叠顺序 <a class="header-anchor" href="#层叠上下文和层叠顺序" aria-label="Permalink to &quot;层叠上下文和层叠顺序&quot;">​</a></h2><ol><li>如果层叠上下文元素不依赖z-index数值,则其层叠顺序是<code>z-index:auto</code>,可以看成是<code>z-index:0</code>级别的</li><li>如果层叠上下文依赖z-index数值,则其层叠顺序由z-index决定.</li></ol><ul><li>元素一旦成为定位元素,其<code>z-index</code>就会自动生效,此时其z-index就是默认的auto,也就是0级别的</li></ul><blockquote><p>z-index负值深入理解</p></blockquote><ul><li>z-index虽然是负值元素,但是层级任然是在层叠上下文元素上面,block元素的下面</li><li>也就是说z-index虽然名为负数层级,但依然无法突破当前的层叠上下文</li><li><img src="'+e+`" alt=" "></li></ul><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">box</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">blue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">box</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">img</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">z-index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-50px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">box</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.jpg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><ul><li><p>由于图片是z-index负值元素,会被蓝色的block元素挡住</p></li><li><p>给.box设置层叠上下文.这时候蓝色的盒子就会隐藏到层叠上下文的后面</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">box</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> blue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">transform</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">scale</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div></li><li><p><strong>z-index负值</strong>.可访问隐藏元素,只需要层叠上下文内的某一个父元素加个背景色就可以使元素隐藏</p></li></ul><blockquote><p>设置z-index准则.一般需要设置z-index不要超过二</p></blockquote><ol><li>定位元素一旦设置了z-index值,就从普通定位元素变成了层叠上下文元素,相互间的层叠顺序就发生了变化,很容易产生巨大的z-index值也无法覆盖其他元素的问题</li><li>z-index的样式混乱,如果DOM元素的顺序确实无法调整,不得不使用z-index也不能超过3</li></ol>`,26),i=[t];function c(r,d,D,F,y,C){return o(),l("div",null,i)}const b=s(p,[["render",c]]);export{x as __pageData,b as default};
